;/*FB_PKG_DELIM*/

__d("usePolarisPreloadedPostQuery",["useLogPolarisPreloadExposure","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("usePolarisQueryStore")(),e=c("usePolarisQueryPreloaderID")(a);c("useLogPolarisPreloadExposure")(a);return d.loadPostQuery([a.request.url,a.request.params],b,e)}g["default"]=a}),98);
__d("PolarisFeedPageContainerDeferred",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPageContainer.react").__setRef("PolarisFeedPageContainerDeferred"));b=a;g["default"]=b}),98);
__d("usePolarisInitFeedPage",["PolarisFeedActionInitFeed","PolarisReactRedux","PolarisSeenState.react","qex","react","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=d("PolarisSeenState.react").usePolarisSeenStateManager(),f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisQueryStore")(),i=c("usePolarisQueryPreloaderID")(a),j=c("usePolarisQueryPreloaderID")(b);return h(function(){var h=c("qex")._("1098")===!0;if(e!=null&&e.count()>0&&!h){h=e.getViewInfo();e.clear();f(d("PolarisFeedActionInitFeed").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:i,feedViewInfo:h,preloadedStoryTrayQueryId:j,preloadedStoryTrayQuery:b}))}else f(d("PolarisFeedActionInitFeed").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:i,preloadedStoryTrayQueryId:j,preloadedStoryTrayQuery:b}))},[e,f,g,a,i,j,b])}g["default"]=a}),98);
__d("PolarisFeedActionInitFeedVariant",["PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionFetchFeedDataFromNative","PolarisMonitorErrors","polarisFeedReducer","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(c,e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:f=e();g=f.feed.currentFeed;h=d("polarisFeedReducer").getFeedContent(f.feed),i=h.isLoadingPosts,j=h.paginationInfo;if(i){l.next=12;break}c({type:"FEED_LOADING"});k=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({feedViewInfo:a,paginationSource:j==null?void 0:j.paginationSource,cursor:j==null?void 0:j.cursor}).then(function(a){return d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(c,a,g)});k["catch"](function(a){d("PolarisMonitorErrors").logError(a)});l.t0=c;l.next=10;return b("regeneratorRuntime").awrap(k);case 10:l.t1=l.sent,l.t0(l.t1);case 12:case"end":return l.stop()}},null,this)}}g.initFeedVariant=a}),98);
__d("usePolarisInitFeedVariantPage",["PolarisFeedActionInitFeedVariant","PolarisReactRedux","PolarisSeenState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("PolarisSeenState.react").usePolarisSeenStateManager(),b=d("PolarisReactRedux").useDispatch();return h(function(){if(a!=null&&a.count()>0){var c=a.getViewInfo();a.clear();b(d("PolarisFeedActionInitFeedVariant").initFeedVariant(c))}else b(d("PolarisFeedActionInitFeedVariant").initFeedVariant())},[b,a])}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisConditionalPageLayoutHandler.react","PolarisFeedActionScrolledToTop","PolarisFeedPageContainerDeferred","PolarisFeedState","PolarisReactRedux","gkx","polarisFeedSelectors","react","usePolarisCurrentFeedVariant","usePolarisInitFeedPage","usePolarisInitFeedVariantPage","usePolarisPreloadedPostQuery","usePolarisRefreshFeedData","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(a){a=a.props.routeProps.polaris_preload;var b=a.feed,e=a.story_tray;a=a.suggested_user_list;var f=c("usePolarisCurrentFeedVariant")(),g=d("PolarisReactRedux").useSelector(d("polarisFeedSelectors").getFeedContent),k=g.currentState;g=g.isLoadingPosts;var l=c("useRoutePassthroughProps")(),m=j(!1),n=d("PolarisReactRedux").useDispatch(),o=k===d("PolarisFeedState").FEED_STATE_NETWORK||g,p=c("usePolarisInitFeedPage")(b,e);k=c("usePolarisPreloadedPostQuery")(a);var q=c("usePolarisInitFeedVariantPage")(),r=c("usePolarisRefreshFeedData")(),s=d("PolarisReactRedux").useSelector(function(a){return a.feed.content[f].items});i(function(){(f==="home"||f==="past_posts")&&m.current===!1&&!o?(p(),m.current=!0):f!=="home"&&!o&&(!s||s.size===0)&&q()},[f,p,q,o,s]);i(function(){(l==null?void 0:l.refreshFeed)===!0&&(window.scrollTo(0,0),n(d("PolarisFeedActionScrolledToTop").scrolledToTop()),r())},[n,l==null?void 0:l.refreshFeed,r]);g=h.jsx(c("PolarisFeedPageContainerDeferred"),{suggestedUserListQueryRef:k});return c("PolarisConditionalPageLayoutHandler.react")!=null?h.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:g})}):c("gkx")("680")?h.jsx(h.Fragment,{children:g}):h.jsx(c("CometPlaceholder.react"),{fallback:null,children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);